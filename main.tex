%%
%% This is file `sample-acmsmall.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% samples.dtx  (with options: `acmsmall')
%% 
%% IMPORTANT NOTICE:
%% 
%% For the copyright see the source file.
%% 
%% Any modified versions of this file must be renamed
%% with new filenames distinct from sample-acmsmall.tex.
%% 
%% For distribution of the original source see the terms
%% for copying and modification in the file samples.dtx.
%% 
%% This generated file may be distributed as long as the
%% original source files, as listed above, are part of the
%% same distribution. (The sources need not necessarily be
%% in the same archive or directory.)
%%
%%
%% Commands for TeXCount
%TC:macro \cite [option:text,text]
%TC:macro \citep [option:text,text]
%TC:macro \citet [option:text,text]
%TC:envir table 0 1
%TC:envir table* 0 1
%TC:envir tabular [ignore] word
%TC:envir displaymath 0 word
%TC:envir math 0 word
%TC:envir comment 0 0
%%
%%
%% The first command in your LaTeX source must be the \documentclass
%% command.
%%
%% For submission and review of your manuscript please change the
%% command to \documentclass[manuscript, screen, review]{acmart}.
%%
%% When submitting camera ready or to TAPS, please change the command
%% to \documentclass[sigconf]{acmart} or whichever template is required
%% for your publication.
%%
%%
\documentclass[acmsmall]{acmart}
\usepackage{mathpartir}

%%
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
	\providecommand\BibTeX{{%
			Bib\TeX}}}

%% Rights management information.  This information is sent to you
%% when you complete the rights form.  These commands have SAMPLE
%% values in them; it is your responsibility as an author to replace
%% the commands and values with those provided to you when you
%% complete the rights form.
\setcopyright{acmlicensed}
\copyrightyear{2018}
\acmYear{2018}
\acmDOI{XXXXXXX.XXXXXXX}


%%
%% These commands are for a JOURNAL article.
\acmJournal{JACM}
\acmVolume{37}
\acmNumber{4}
\acmArticle{111}
\acmMonth{8}

%%
%% Submission ID.
%% Use this when submitting an article to a sponsored event. You'll
%% receive a unique submission ID from the organizers
%% of the event, and this ID should be used as the parameter to this command.
%%\acmSubmissionID{123-A56-BU3}

%%
%% For managing citations, it is recommended to use bibliography
%% files in BibTeX format.
%%
%% You can then either use BibTeX with the ACM-Reference-Format style,
%% or BibLaTeX with the acmnumeric or acmauthoryear sytles, that include
%% support for advanced citation of software artefact from the
%% biblatex-software package, also separately available on CTAN.
%%
%% Look at the sample-*-biblatex.tex files for templates showcasing
%% the biblatex styles.
%%

%%
%% The majority of ACM publications use numbered citations and
%% references.  The command \citestyle{authoryear} switches to the
%% "author year" style.
%%
%% If you are preparing content for an event
%% sponsored by ACM SIGGRAPH, you must use the "author year" style of
%% citations and references.
%% Uncommenting
%% the next command will enable that style.
%%\citestyle{acmauthoryear}

\usepackage{xcolor}
\newcommand\todo[1]{\textcolor{red}{#1}}

%%
%% end of the preamble, start of the body of the document source.
\begin{document}
	%%
	%% The "title" command has an optional parameter,
	%% allowing the author to define a "short title" to be used in page headers.
	\title{Uncomputation}
	
	%%
	%% The "author" command and its associated commands are used to define
	%% the authors and their affiliations.
	%% Of note is the shared affiliation of the first two authors, and the
	%% "authornote" and "authornotemark" commands
	%% used to denote shared contribution to the research.
	\author{Maisa Kirisame}
	\email{marisa@cs.utah.edu}
	\orcid{1234-5678-9012}
	\authornotemark[1]
	\affiliation{%
		\institution{University of Utah}
		\streetaddress{P.O. Box 1212}
		\city{Salt Lake City}
		\state{Utah}
		\country{USA}
		\postcode{43017-6221}
	}

	\author{Pavel Panchekha}
	\email{}
	\orcid{1234-5678-9012}
	\authornotemark[1]
	\affiliation{%
		\institution{University of Utah}
		\streetaddress{P.O. Box 1212}
		\city{Salt Lake City}
		\state{Utah}
		\country{USA}
		\postcode{43017-6221}
	}
	
	%%
	%% By default, the full list of authors will be used in the page
	%% headers. Often, this list is too long, and will overlap
	%% other information printed in the page headers. This command allows
	%% the author to define a more concise list
	%% of authors' names for this purpose.
	\renewcommand{\shortauthors}{Kirisame et al.}
	%%
	%% The abstract is a short summary of the work to be presented in the
	%% article.
	\begin{abstract}
		Program execution need memory. Program may run out of memory for multiple reasons: big dataset, exploding intermediate state, the machine have less memory than others, etc. When this happens, the program either get killed, or the operating system swaps, significantly degrading the performance.
		We propose a technique, uncomputation, that allow the program to continue running gracefully even after breaching the memory limit, without significant performance degradation.
		Uncomputation work by turning computed values back into thunk, and upon re-requesting the thunk, computing and storing them back.
		A naive implementation of uncomputation will face multiple problems. Among them, the most crucial and the most challenging one is that of breadcrumb. After a value is uncomputed, it's memory can be released but some memory, breadcrumb, is needed, so we can recompute the value back.
		The smaller a value is, the breadcrumb it leave will take up a larger portion of memory, until the size of a value is less then or equal to that of the size of breadcrumb, so uncomputing save no memory.
		The more value uncomputed, breadcrumb accumulate, until most of the memory is used to record breadcrumb. This prohibit asymptotic improvement commonly seen in memory-cosntrainted algorithms.
		We present a runtime system, implemented as a library, that is absolved of the above breadcrumb problem, seemingly storing recompute information in 0-bits and violating information theory.
	\end{abstract}
	
	%%
	%% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
	%% Please copy and paste the code instead of the example below.
	%%
		
	%%
	%% Keywords. The author(s) should pick words that accurately describe
	%% the work being presented. Separate the keywords with commas.
	\keywords{Do, Not, Us, This, Code, Put, the, Correct, Terms, for,
		Your, Paper}
	
	\received{20 February 2007}
	\received[revised]{12 March 2009}
	\received[accepted]{5 June 2009}
	
	%%
	%% This command processes the author and affiliation and title
	%% information and builds the first part of the formatted document.
	\maketitle
	\input{intro}
	\input{uncomputation}
	\input{pvz}
	\input{call_stack}
	\input{cache}
	\input{eval}
	\section{Union Find}
	
	problem: calculating recursive cost is expensive.
	
	one may be tempted to solve this problem via dynamic programming: storing a recursive compute cost for each node in the graph,
	calculated by summing up it's own compute cost with recursive compute cost of that of it's parent.
	
	such approach have two drawback:
	0 - when upstream node got evicted/rematerialize, downstream node need to update their recursive cost, 
	thus this is merely trading graph traversal at pull to graph traversal at push.
	1 - will double count at diamond dependency, leading to potentially exponentially larger estimation.
	
	adopting the approach of dtr \todo{should we say this?}, we use a union find data structure. 
	
	We assign each node 
	two evicted node is in the same eclass if they are both evicted, and one is the parent of another. additionally, transitivity equate node that is not immediate parent/children. \todo{note that this include more node then recursive children/parent. draw a graph to illustrate.}
	
	each eclass additionally store a compute cost. everytime a node enter a eclass via eviction, we add said node's compute cost to the eclass.
	when a node leave the eclass via rematerialization, we do the according subtraction.
	
	this allow us to estimate compute cost in approximately O(1) time.
	\section{Related Works}
	cooperative caching - opposite of us
	
	membalancer - balancing multiple stuff, space time tradeoff
	
	swapping? - slow demonstrated via gimp. cache + swap is interesting. cite some paper that manage both.
	
	berger's oopsla paper - manage both cache and gc
	
	FIFO Queues are All You Need for Cache Eviction
	
	The CacheLib Caching Engine: Design and Experiences at Scale
	
	Kangaroo: Caching Billions of Tiny Objects on Flash
	
	A large scale analysis of hundreds of in-memory cache clusters at Twitter
	
	Improving WWW Proxies Performance with Greedy-Dual-Size-Frequency Caching Policy
	
	GreedyDual Web caching algorithm: exploiting the two sources of temporal locality in Web request streams
	
	Replacement Policies for a Proxy Cache - introduce LRV
	
	Johnny Cache: the End of DRAM Cache Conflicts (in Tiered Main Memory Systems)
	
	Software-Defined Caching: Managing Caches in Multi-Tenant Data Centers
	
	Caching less for better performance: Balancing cache size and update cost of flash memory cache in hybrid storage systems
	
	My cache or yours? Making storage more exclusive
	
	Cooperative Caching: Using Remote Client Memory to Improve File System Performance
	
	FaaST: A Transparent Auto-Scaling Cache for Serverless Applications
	
	OFC: an opportunistic caching system for FaaS platforms
	
	FairRide: Near-Optimal, Fair Cache Sharing
	
	GD-Wheel: a cost-aware replacement policy for key-value stores
	
	Cliffhanger: Scaling Performance Cliffs in Web Memory Caches
	
	DistCache: Provable Load Balancing for Large-Scale Storage Systems with Distributed Caching
	
	An Analysis of Facebook Photo Caching
	\section{Case Study(2pg)}
	\input{related}
	\section{Constant Optimization}
%% If your work has an appendix, this is the place to put it.
\appendix
\end{document}
\endinput
%%
%% End of file `sample-acmsmall.tex'.
